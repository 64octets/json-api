<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Use title if it's in the page YAML frontmatter -->
    <title>JSON API - Recommendations</title>

    <link href='http://fonts.googleapis.com/css?family=Titillium+Web:400,300,600' rel='stylesheet' type='text/css'>
    <link href="/stylesheets/normalize.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/highlight.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/all.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="/javascripts/all.js" type="text/javascript"></script>
    <script src="/javascripts/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </head>

  <body>
     <nav class="site-nav">
      <ul>


          <li ><a href="/" title="JSON API">JSON API</a></li>

          <li ><a href="/format/" title="Format">Format</a></li>

          <li ><a href="/extensions/" title="Extensions">Extensions</a></li>

          <li class="active"><a href="/recommendations/" title="Recommendations">Recommendations</a></li>

          <li ><a href="/implementations/" title="Implementations">Implementations</a></li>

          <li ><a href="/faq/" title="FAQ">FAQ</a></li>

          <li ><a href="/about/" title="About">About</a></li>

      </ul>
    </nav>

    <div class="site-wrapper">

        <div class="sidebar">
          <nav class="document-outline" id="document-outline">
            <h1>Recommendations</h1>
          </nav>
        </div>

      <div class="content">

          <h1>Recommendations</h1>

        <section>
          <p>This section contains recommendations for JSON API implementations. These
recommendations are intended to establish a level of consistency in areas that
are beyond the scope of the base JSON API specification.</p>

<h2>Naming <a href="#naming" id="naming" class="headerlink"></a></h2>

<p>The allowed and recommended characters for an URL safe naming of members are defined in the format spec. To also standardize member names, the following (more restrictive) rules are recommended:</p>

<ul>
<li>Member names <strong>SHOULD</strong> start and end with the characters &quot;a-z&quot; (U+0061 to U+007A)</li>
<li>Member names <strong>SHOULD</strong> contain only the characters &quot;a-z&quot; (U+0061 to U+007A), &quot;0-9&quot; (U+0030 to U+0039), and the hyphen minus (U+002D HYPHEN-MINUS, &quot;-&quot;) as seperator between multiple words.</li>
</ul>

<h2>URL Design <a href="#urls" id="urls" class="headerlink"></a></h2>

<h3>Reference Document <a href="#urls-reference-document" id="urls-reference-document" class="headerlink"></a></h3>

<p>When determining an API&#39;s URL structure, it is helpful to consider that all of
its resources exist in a single &quot;reference document&quot; in which each resource is
addressable at a unique path. Resources are grouped by type at the top level of
this document. Individual resources are keyed by ID within these typed
collections. Attributes and links within individual resources are uniquely
addressable according to the resource object structure described above.</p>

<p>This concept of a reference document is used to determine appropriate URLs for
resources as well as their relationships. It is important to understand that
this reference document differs slightly in structure from documents used to
transport resources due to different goals and constraints. For instance,
collections in the reference document are represented as sets because members
must be addressable by ID, while collections are represented as arrays in
transport documents because order is significant.</p>

<h3>URLs for Resource Collections <a href="#urls-resource-collections" id="urls-resource-collections" class="headerlink"></a></h3>

<p>It is recommended that the URL for a collection of resources be formed from
the resource type.</p>

<p>For example, a collection of resources of type <code>&quot;photos&quot;</code> will have the URL:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">/photos
</code></pre></div>
<h3>URLs for Individual Resources <a href="#urls-individual-resources" id="urls-individual-resources" class="headerlink"></a></h3>

<p>Treat collections of resources as sets keyed by resource ID. The URL for an
individual resource can be formed by appending the resource&#39;s ID to the
collection URL.</p>

<p>For example, a photo with an ID of <code>&quot;1&quot;</code> will have the URL:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">/photos/1
</code></pre></div>
<h3>Relationship URLs and Related Resource URLs <a href="#urls-relationships" id="urls-relationships" class="headerlink"></a></h3>

<p>As described in the base specification, there are two URLs that can be exposed
for each relationship:</p>

<ul>
<li><p>the &quot;relationship URL&quot; - a URL for the relationship itself, which is
identified with the <code>&quot;self&quot;</code> key in a relationship&#39;s <code>links</code> object. This URL
allows the client to directly manipulate the relationship. For example, it would
allow a client to remove an <code>author</code> from a <code>post</code> without deleting the <code>people</code>
resource itself.</p></li>
<li><p>the &quot;related resource URL&quot; - a URL for the related resource(s), which is
identified with the <code>&quot;related&quot;</code> key within a relationship&#39;s <code>links</code> object. When
fetched, it returns the related resource object(s) as the response&#39;s primary data.</p></li>
</ul>

<p>It is recommended that a relationship URL be formed by appending <code>/relationships/</code>
and the name of the relationship to the resource&#39;s URL.</p>

<p>For example, a photo&#39;s <code>comments</code> relationship will have the URL:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">/photos/1/relationships/comments
</code></pre></div>
<p>And a photo&#39;s <code>photographer</code> relationship will have the URL:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">/photos/1/relationships/photographer
</code></pre></div>
<p>It is recommended that a related resource URL be formed by appending the name
of the relationship to the resource&#39;s URL.</p>

<p>For example, the URL for a photo&#39;s <code>comments</code> will be:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">/photos/1/comments
</code></pre></div>
<p>And the URL for a photo&#39;s <code>photographer</code> will be:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">/photos/1/photographer
</code></pre></div>
<p>Because these URLs represent resources in relationships, they should not be
used as <code>self</code> links for the resources themselves. Instead the recommendations
for individual resource URLs should still apply when forming <code>self</code> links.</p>

<h2>Filtering <a href="#filtering" id="filtering" class="headerlink"></a></h2>

<p>The base specification is agnostic about filtering strategies supported by a
server. The <code>filter</code> query parameter is reserved to be used as the basis for
any filtering strategy.</p>

<p>It&#39;s recommended that servers that wish to support filtering of a resource
collection based upon associations do so by allowing query parameters that
combine <code>filter</code> with the association name.</p>

<p>For example, the following is a request for all comments associated with a
particular post:</p>
<div class="highlight"><pre><code class="http language-http" data-lang="http">GET /comments?filter[post]=1
</code></pre></div>
<p>Multiple filter values can be combined in a comma-separated list. For example:</p>
<div class="highlight"><pre><code class="http language-http" data-lang="http">GET /comments?filter[post]=1,2
</code></pre></div>
<p>Furthermore, multiple filters can be applied to a single request:</p>
<div class="highlight"><pre><code class="http language-http" data-lang="http">GET /comments?filter[post]=1,2&amp;filter[author]=12
</code></pre></div>
<h2>Supporting Clients Lacking <code>PATCH</code> <a href="#patchless-clients" id="patchless-clients" class="headerlink"></a></h2>

<p>Some clients, like IE8, lack support for HTTP&#39;s <code>PATCH</code> method. API servers
that wish to support these clients are recommended to treat <code>POST</code> requests as
<code>PATCH</code> requests if the client includes the <code>X-HTTP-Method-Override: PATCH</code>
header. This allows clients that lack <code>PATCH</code> support to have their update
requests honored, simply by adding the header.</p>

        </section>
      </div>
    </div>
    <footer>
      <span>Built with <a href="http://jekyllrb.com/">Jekyll</a> and <a href="http://softwaremaniacs.org/soft/highlight/en/">Highlight.js</a></span>
      <span>Hosted by <a href="http://pages.github.com/">GitHub Pages</a></span>
      <span>Generated at 2015-05-21T14:04:00-04:00</span>
      <span class="social-links">
        <a class="twitter" href="http://twitter.com/jsonapi"><i class="icon-twitter"></i><span>Twitter</span></a>
        <a class="github" href="https://github.com/json-api"><i class="icon-github"></i><span>GitHub</span></a>
        <a class="googleplus" href="https://groups.google.com/forum/?fromgroups#!forum/jsonapi"><i class="icon-gplus"></i><span>Google</span></a>
      </span>
      <div class="license">
        <a rel="license" href="http://creativecommons.org/publicdomain/zero/1.0/"><img src="http://i.creativecommons.org/p/zero/1.0/88x31.png" style="border-style: none;" alt="CC0" /></a>
      </div>
    </footer>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-40609539-1', 'jsonapi.org');
      ga('send', 'pageview');

    </script>
  </body>

</html>
